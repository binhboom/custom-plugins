!function(t,a){function n(){a("#loco-editor nav").find("#cool-auto-translate-btn").length>0&&a("#loco-editor nav").find("#cool-auto-translate-btn").remove();const t=a("#loco-editor nav").find("#loco-actions"),n='<fieldset><button id="cool-auto-translate-btn" class="button has-icon icon-translate">Auto Translate</button></fieldset>';t.append(n)}function e(){a("#atlt-dialog").dialog({resizable:!1,height:"auto",width:400,modal:!0,buttons:{Cancel:function(){a(this).dialog("close")}}})}function o(t,n){var e="",o=0,s=1;if(t){for(const a in t)if(t.hasOwnProperty(a)){const l=t[a];if(""!=l.source){if("yandex"==n)e+='<tr id="'+a+'" ><td>'+s+'</td><td  class="notranslate source" >'+x(l.source)+"</td>";else{if(a>2500)break;e+='<tr id="'+a+'" ><td>'+s+'</td><td  class="notranslate source">'+l.source+"</td>"}e+="yandex"==n?'<td  translate="yes"  class="target translate">'+l.source+"</td></tr>":'<td class="target translate"></td></tr>',s++,o+=l.source.length}}a(".ytstats").each(function(){a(this).find(".totalChars").html(o)})}"yandex"==n&&a("#yandex_string_tbl").html(e)}function s(){let t=extradata.yt_preview,n=extradata.gt_preview,e=extradata.dpl_preview,o=` \n        <!-- The Modal -->\n        <div id="atlt-dialog" title="Step 1 - Select Translation Provider" style="display:none;">\n        <div class="atlt-settings">\n        \n        <strong class="atlt-heading" style="margin-bottom:10px;display:inline-block;">Translate Using Yandex Page Translate Widget</strong>\n        <div class="inputGroup">\n        <button id="atlt_yandex_transate_btn" class="notranslate button button-primary">Yandex Translate</button>\n        <span class="proonly-button alsofree">‚úî Available</span>\n        <br/><a href="https://translate.yandex.com/" target="_blank"><img style="margin-top: 5px;" src="${t}" alt="powered by Yandex Translate Widget"></a>\n        </div>\n        <hr/>\n  \n        <strong class="atlt-heading" style="margin-bottom:10px;display:inline-block;">Translate Using Google Page Translate Widget</strong>\n        <div class="inputGroup">\n        <button id="atlt_gtranslate_btn" disabled="disabled" class="notranslate button button-primary">Google Translate</button>\n        <span class="proonly-button"><a href="https://bit.ly/locoaddon" target="_blank" title="Buy Pro">PRO Only</a></span>\n        <br/><a href="https://translate.google.com/" target="_blank"><img style="margin-top: 5px;" src="${n}" alt="powered by Google Translate Widget"></a>\n        </div>\n        <hr/>\n        \n        <strong class="atlt-heading" style="margin-bottom:10px;display:inline-block;">Translate Using Deepl Doc Translator</strong>\n        <div class="inputGroup">\n        <button  disabled="disabled" id="atlt_deepl_btn" class="notranslate button button-primary">DeepL Translate</button>\n        <span class="proonly-button"><a href="https://bit.ly/locoaddon" target="_blank" title="Buy Pro">PRO Only</a></span>\n        <br/><a href="https://www.deepl.com/en/translator" target="_blank"><img style="margin-top: 5px;" src="${e}" alt="powered by DeepL Translate"></a>\n        <br/>DeepL translation is better than Google, Microsoft & other auto-translation providers - <a href="https://techcrunch.com/2017/08/29/deepl-schools-other-online-translators-with-clever-machine-learning/" target="_blank">read review by techcruch</a>\n        </div>\n        <hr/>\n  \n        <ul style="margin: 0;">\n        <li><span style="color:green">‚úî</span> Unlimited Translations<br/>(<span style="font-size: 11px;color: #248e09;">*DeepL provides limited no. of free doc translations daily</span>)</li>\n        <li><span style="color:green">‚úî</span> No API Key Required</li>\n        <li><span style="color:green">‚úî</span> Check Languages Support - <a href="https://yandex.com/support/translate/supported-langs.html" target="_blank">Yandex</a>, <a href="https://en.wikipedia.org/wiki/Google_Translate#Supported_languages" target="_blank">Google</a>, <a href="https://www.deepl.com/en/translator" target="_blank">DeepL</a></li>\n        </ul>\n  \n        </div>\n        </div>\n      `;a("body").append(o)}function l(){let t=` \n      <!-- The Modal -->\n      <div id="atlt_strings_model" class="modal atlt_custom_model">\n          <!-- Modal content -->\n          <div class="modal-content">\n            <input type="hidden" id="project_id" value="${w}">\n            <div class="modal-header">\n              <span class="close ">&times;</span>\n              <h2 class="notranslate">Step 2 - Start Automatic Translation Process</h2>\n              <div class="save_btn_cont">\n              <button class="notranslate save_it button button-primary" disabled="true">Merge Translation</button>\n              </div>\n  \n              <div style="display:none" class="ytstats hidden">\n                Wahooo! You have saved your valauble time via auto translating \n                 <strong class="totalChars"> </strong> characters  using \n                  <strong> \n                  <a href="https://wordpress.org/support/plugin/automatic-translator-addon-for-loco-translate/reviews/#new-post" target="_new">\n                  Loco Automatic Translate Addon</a>\n                </strong>     \n              </div>\n \n            </div>\n              <div class="notice inline notice-info is-dismissible">Plugin will not translate any strings with HTML or special characters because Yandex Translator currently\n               does not support HTML and special characters translations. \n              You can edit translated strings inside Loco Translate Editor after merging the translations. Only special chracters (%s, %d) fixed at the time of merging of the translations.</div>\n              <div class="notice inline notice-info is-dismissible">Machine translations are not 100% correct.\n               Please verify strings before using on production website.</div>\n            <div class="modal-body">\n              <div class="my_translate_progress">Automatic translation is in progress....<br/>It will take few minutes, enjoy ‚òï coffee in this time!<br/><br/>Please do not leave this window or browser tab while translation is in progress...</div>\n              <h3 class="choose-lang">Choose language <span class="dashicons-before dashicons-translation"></span></h3>\n              <div id="ytWidget">..Loading</div>\n              <br/>\n              <div class="string_container">               \n                  <table class="scrolldown" id="stringTemplate">\n                      <thead>\n                      <th class="notranslate">S.No</th>\n                      <th class="notranslate">Source Text</th>\n                      <th class="notranslate">Translation</th>\n                      </thead>\n                      <tbody id="yandex_string_tbl">\n                      </tbody>\n                  </table>\n              </div>\n              <div class="notice-container"></div>\n            </div>\n        <div class="modal-footer">\n              <div class="save_btn_cont">\n              <button class="notranslate save_it button button-primary" disabled="true">Merge Translation</button>\n              </div>\n              <div style="display:none" class="ytstats">\n              Wahooo! You have saved your valauble time via auto translating \n                 <strong class="totalChars"></strong> characters  using \n                  <strong> \n                  <a href="https://wordpress.org/support/plugin/automatic-translator-addon-for-loco-translate/reviews/#new-post" target="_new">\n                  Loco Automatic Translate Addon</a>\n                </strong>     \n              </div>\n        </div>\n          </div>\n        </div>`;a("body").append(t)}function i(t,a){if(void 0!==t&&t.length)if(t.length<5e3&&t.length>=2500){var n=t.slice(0,2500),e=t.slice(2500);r(n,a,part="first",trigger=!1),r(e,a,part="second",trigger=!0)}else if(t.length>=5e3){n=t.slice(0,2500),e=t.slice(2500,5e3);var o=t.slice(5e3);r(n,a,part="first",trigger=!1),r(e,a,part="second",trigger=!1),r(o,a,part="third",trigger=!0)}else r(t,a,part="one",trigger=!0)}function r(t,n,e,o){var s={action:"save_translations",data:JSON.stringify(t),part:e,"project-id":n};jQuery.post(y,s,function(t){a("#loco-editor nav").find("button").each(function(t,n){var e=n.getAttribute("data-loco");"auto"==e&&!0===o&&(console.log("how many times"+o),a(n).trigger("click"))})})}function d(){var t=setInterval(function(){var n=a(".loco-modal"),e=a(".loco-modal #loco-apis-batch");if(n.length&&n.attr("style").indexOf("none")<=-1&&n.find("#loco-job-progress").length){a("html").removeClass("merge-translations"),e.find("a.icon-help, a.icon-group, #loco-job-progress").hide(),e.find("select#auto-api").hide();var o=a("select#auto-api option[value='loco_auto']").prop("selected","selected");e.find("select#auto-api").val(o.val()),n.find(".ui-dialog-titlebar .ui-dialog-title").html("Step 3 - Add Translations into Editor and Save"),e.find("button.button-primary span").html("Start Adding Process"),e.find("button.button-primary").on("click",function(){a(this).find("span").html("Adding...")}),n.addClass("addtranslations"),a(".noapiadded").remove(),e.find("form").show(),e.removeClass("loco-alert"),clearInterval(t)}},200)}function c(t,a){return filterdArr=[],filterdArr=t.filter((t,a)=>{if(""!==t.source&&void 0!==t.source&&(void 0===t.target||""==t.target))return!u(t.source)&&(!g(t.source)&&(!!b(t.source)||!p(t.source)&&(!h(t.source)&&!t.source.includes("#"))))})}function u(t){var a=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return!!a.test(t)}function g(t){var a=/<(?=.*? .*?\/ ?>|br|hr|input|!--|wbr)[a-z]+.*?>|<([a-z]+).*?<\/\1>/i;return void 0!==t&&a.test(t)}function p(t){var a=/[@^{}|<>]/g;return void 0!==t&&a.test(t)}function h(t){var a=["(?:[‚úÄ-‚ûø]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[#-9]Ô∏è?‚É£|„äô|„äó|„ÄΩ|„Ä∞|‚ìÇ|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|üÜé|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01-\ude02]|üàö|üàØ|[\ud83c[\ude32-\ude3a]|[\ud83c[\ude50-\ude51]|‚Äº|‚Åâ|[‚ñ™-‚ñ´]|‚ñ∂|‚óÄ|[‚óª-‚óæ]|¬©|¬Æ|‚Ñ¢|‚Ñπ|üÄÑ|[‚òÄ-‚õø]|‚¨Ö|‚¨Ü|‚¨á|‚¨õ|‚¨ú|‚≠ê|‚≠ï|‚åö|‚åõ|‚å®|‚èè|[‚è©-‚è≥]|[‚è∏-‚è∫]|üÉè|‚§¥|‚§µ|[‚Üê-‚áø])"];return!!t.match(a.join("|"))}function b(t){var a=/%s|%d/g;return void 0!==t&&a.test(t)}function f(t,a,n){return!!t&&{2:function(){for(var n in a)t=f(t,n,a[n]);return t},3:function(){return t.replace(RegExp(a,"g"),n)},0:function(){}}[arguments.length]()}if(void 0!==t.locoConf){var v=t.locoConf;if(void 0!==v.conf){var m=v.conf.podata;m.shift();var y=extradata.ajax_url,_=(extradata.nonce,v.conf.locale),w="";w=null!==v.conf.project?v.conf.project.domain+"-"+_.lang+"_"+_.region:"temp-"+_.lang+"_"+_.region,n(),s(),l()}}a("#cool-auto-translate-btn").on("click",function(){e()});var x=function(t){for(var a=[],n=t.length-1;n>=0;n--)a.unshift(["&#",t[n].charCodeAt(),";"].join(""));return a.join("")},k=document.getElementById("atlt_strings_model");t.onclick=function(t){t.target==k&&(k.style.display="none")},a("#atlt_strings_model").find(".close").on("click",function(){a("#atlt_strings_model").fadeOut("slow")}),a("#atlt_yandex_transate_btn").on("click",function(){var t=_.lang?_.lang:null;switch(t){case"bel":defaultlang="be";break;case"he":defaultlang="iw";break;case"snd":defaultlang="sd";break;case"jv":defaultlang="jv";break;case"nb":case"nn":defaultlang="no";break;default:defaultlang=t}a(".save_it").prop("disabled",!0),a(".ytstats").css("display","none"),localStorage.setItem("lang",defaultlang);var n=["af","jv","no","am","ar","az","ba","be","bg","bn","bs","ca","ceb","cs","cy","da","de","el","en","eo","es","et","eu","fa","fi","fr","ga","gd","gl","gu","he","hi","hr","ht","hu","hy","id","is","it","ja","jv","ka","kk","km","kn","ko","ky","la","lb","lo","lt","lv","mg","mhr","mi","mk","ml","mn","mr","mrj","ms","mt","my","ne","nl","no","pa","pap","pl","pt","ro","ru","si","sk","sl","sq","sr","su","sv","sw","ta","te","tg","th","tl","tr","tt","udm","uk","ur","uz","vi","xh","yi","zh"];n.includes(defaultlang)||(a(".notice-container").addClass("notice inline notice-warning").html("Yandex Automatic Translator Does not support this language."),a(".string_container").hide(),a(".choose-lang").hide(),a(".save_it").hide(),a("#ytWidget").hide());var e=c(m,"plain");e.length>0?o(e,type="yandex"):(a("#ytWidget").hide(),a(".notice-container").addClass("notice inline notice-warning").html("There is no plain string available for translations."),a(".string_container").hide(),a(".choose-lang").hide(),a(".save_it").hide()),a("#atlt-dialog").dialog("close"),a("#atlt_strings_model").addClass("yandex-translator").fadeIn("slow")});var T={'"% s"':'"%s"','"% d"':'"%d"','"% S"':'"%s"','"% D"':'"%d"',"% s":" %s ","% S":" %s ","% d":" %d ","% D":" %d ","Ÿ™ s":" %s ","Ÿ™ S":" %s ","Ÿ™ d":" %d ","Ÿ™ D":" %d ","Ÿ™ ÿ≥":" %s "};a(".save_it").on("click",function(){var t=[];a("#stringTemplate tbody tr").each(function(n){a(this).find("td.source").text();var e=a(this).find("td.target").text(),o=a(this).find("td.source").text(),s=f(e,T),l=f(o,T);t.push({source:l,target:s})});var n=a(this).parents("#atlt_strings_model").find("#project_id").val();i(t,n);t=[];a(".atlt_custom_model").fadeOut("slow"),a("html").addClass("merge-translations"),d()}),a("button.icon-robot[data-loco='auto']").on("click",function(t){if(void 0!==t.originalEvent)var n=setInterval(function(){if(a(".loco-modal #loco-apis-batch").length&&a(".loco-modal").attr("style").indexOf("none")<=-1){a(".loco-modal").removeClass("addtranslations"),a("select#auto-api").show(),a("#loco-apis-batch a.icon-help").show(),a("#loco-apis-batch a.icon-group").show(),a("#loco-apis-batch #loco-job-progress").show(),a(".loco-modal .ui-dialog-titlebar .ui-dialog-title").html("Auto-translate this file"),a("#loco-apis-batch button.button-primary span").html("Translate");var t=extradata.loco_settings_url,e=0;a("select#auto-api option").each(function(){e+=1}),1==e&&(a(".noapiadded").remove(),a(".loco-modal #loco-apis-batch").removeClass("loco-alert"),a(".loco-modal #loco-apis-batch form").hide(),a(".loco-modal #loco-apis-batch").addClass("loco-alert"),a(".loco-modal .ui-dialog-titlebar .ui-dialog-title").html("No translation APIs configured"),a(".loco-modal #loco-apis-batch").append("<div class='noapiadded'><p>Add automatic translation services in the plugin settings.<br>or<br>Use <strong>Auto Translate</strong> addon button.</p><nav><a href='"+t+"' class='button button-link has-icon icon-cog'>Settings</a><a href='https://localise.biz/wordpress/plugin/manual/providers' class='button button-link has-icon icon-help' target='_blank'>Help</a><a href='https://localise.biz/wordpress/translation?l=de-DE' class='button button-link has-icon icon-group' target='_blank'>Need a human?</a></nav></div>")),clearInterval(n)}},100)})}(window,jQuery);